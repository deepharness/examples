{"openapi":"3.0.3","info":{"title":"Chatter service describing the streaming features of goa v2.","version":"0.0.1"},"servers":[{"url":"http://localhost:80","description":"Default server for chatter"}],"paths":{"/echoer":{"get":{"tags":["chatter"],"summary":"echoer chatter","description":"Echoes the message sent by the client.","operationId":"chatter#echoer","responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"type":"string","example":"Minima officia."},"example":"Dicta repudiandae sunt molestias qui."}}},"401":{"description":"unauthorized: Unauthorized response.","content":{"application/json":{"schema":{"type":"string","example":"Laboriosam est nihil velit."},"example":"Corrupti et."}}},"403":{"description":"invalid-scopes: Forbidden response.","content":{"application/json":{"schema":{"type":"string","example":"Perferendis omnis quisquam doloremque excepturi fugit."},"example":"Amet asperiores aspernatur nulla deleniti quaerat."}}}},"security":[{"jwt_header_Authorization":["stream:write"]}]}},"/history":{"get":{"tags":["chatter"],"summary":"history chatter","description":"Returns the chat messages sent to the server.","operationId":"chatter#history","parameters":[{"name":"view","in":"query","description":"View to use to render the result","allowEmptyValue":true,"schema":{"type":"string","description":"View to use to render the result","example":"Earum sint sint consequatur sit cupiditate."},"example":"Vel sint tenetur."}],"responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSummary"},"example":{"length":7051438596234715468,"message":"Consequatur facilis perferendis ad quos.","sent_at":"1997-03-12T03:19:42Z"}}}},"401":{"description":"unauthorized: Unauthorized response.","content":{"application/json":{"schema":{"type":"string","example":"Cum beatae."},"example":"Sed magni."}}},"403":{"description":"invalid-scopes: Forbidden response.","content":{"application/json":{"schema":{"type":"string","example":"Et quaerat."},"example":"Ut odio vel saepe illum iusto officia."}}}},"security":[{"jwt_header_Authorization":["stream:read"]}]}},"/listener":{"get":{"tags":["chatter"],"summary":"listener chatter","description":"Listens to the messages sent by the client.","operationId":"chatter#listener","responses":{"101":{"description":"Switching Protocols response."},"401":{"description":"unauthorized: Unauthorized response.","content":{"application/json":{"schema":{"type":"string","example":"Suscipit voluptatem quidem aut est necessitatibus."},"example":"Sit voluptatibus incidunt."}}},"403":{"description":"invalid-scopes: Forbidden response.","content":{"application/json":{"schema":{"type":"string","example":"Modi quo."},"example":"Et magnam."}}}},"security":[{"jwt_header_Authorization":["stream:write"]}]}},"/login":{"post":{"tags":["chatter"],"summary":"login chatter","description":"Creates a valid JWT token for auth to chat.","operationId":"chatter#login","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","description":"New JWT token","example":"Corporis dolorem."},"example":"Fugit ducimus dolorem repudiandae voluptates tempore."}}},"401":{"description":"unauthorized: Unauthorized response.","content":{"application/json":{"schema":{"type":"string","example":"Sapiente modi porro a voluptatibus ut."},"example":"Amet sunt aut."}}}},"security":[{"basic_header_Authorization":[]}]}},"/subscribe":{"get":{"tags":["chatter"],"summary":"subscribe chatter","description":"Subscribe to events sent when new chat messages are added.","operationId":"chatter#subscribe","responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Event"},"example":{"action":"added","added_at":"1995-12-26T18:55:28Z","message":"Laudantium est consectetur ut."}}}},"401":{"description":"unauthorized: Unauthorized response.","content":{"application/json":{"schema":{"type":"string","example":"Est numquam."},"example":"Aut voluptates sit autem quisquam deserunt suscipit."}}},"403":{"description":"invalid-scopes: Forbidden response.","content":{"application/json":{"schema":{"type":"string","example":"Rerum est."},"example":"Officiis eum adipisci iusto occaecati."}}}},"security":[{"jwt_header_Authorization":["stream:write"]}]}},"/summary":{"get":{"tags":["chatter"],"summary":"summary chatter","description":"Summarizes the chat messages sent by the client.","operationId":"chatter#summary","responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSummaryResponseCollection"},"example":[{"length":7192545811968992741,"message":"In quo soluta ducimus blanditiis.","sent_at":"2000-11-29T18:15:59Z"},{"length":7192545811968992741,"message":"In quo soluta ducimus blanditiis.","sent_at":"2000-11-29T18:15:59Z"},{"length":7192545811968992741,"message":"In quo soluta ducimus blanditiis.","sent_at":"2000-11-29T18:15:59Z"}]}}},"401":{"description":"unauthorized: Unauthorized response.","content":{"application/json":{"schema":{"type":"string","example":"Non soluta incidunt reiciendis et."},"example":"Voluptates unde soluta ipsam."}}},"403":{"description":"invalid-scopes: Forbidden response.","content":{"application/json":{"schema":{"type":"string","example":"Ut aut."},"example":"Praesentium et sed cupiditate a ut."}}}},"security":[{"jwt_header_Authorization":["stream:write"]}]}}},"components":{"schemas":{"ChatSummary":{"type":"object","properties":{"length":{"type":"integer","description":"Length of the message sent","example":4739545938776233864,"format":"int64"},"message":{"type":"string","description":"Message sent to the server","example":"Suscipit corrupti deserunt."},"sent_at":{"type":"string","description":"Time at which the message was sent","example":"2006-11-01T18:38:01Z","format":"date-time"}},"example":{"length":5646933143625230520,"message":"Illum dolorum omnis alias dicta fugit magni.","sent_at":"2002-01-12T09:06:42Z"},"required":["message","sent_at"]},"ChatSummaryResponse":{"type":"object","properties":{"length":{"type":"integer","description":"Length of the message sent","example":3292802881223075332,"format":"int64"},"message":{"type":"string","description":"Message sent to the server","example":"Quo consequuntur labore id porro corrupti."},"sent_at":{"type":"string","description":"Time at which the message was sent","example":"1992-10-13T12:22:27Z","format":"date-time"}},"description":"ChatSummaryResponse result type (default view)","example":{"length":670000090318615143,"message":"Sed minima.","sent_at":"1973-03-08T13:00:16Z"},"required":["message","sent_at"]},"ChatSummaryResponseCollection":{"type":"array","items":{"$ref":"#/components/schemas/ChatSummaryResponse"},"description":"SummaryResponseBody is the result type for an array of ChatSummaryResponse (default view)","example":[{"length":7192545811968992741,"message":"In quo soluta ducimus blanditiis.","sent_at":"2000-11-29T18:15:59Z"},{"length":7192545811968992741,"message":"In quo soluta ducimus blanditiis.","sent_at":"2000-11-29T18:15:59Z"},{"length":7192545811968992741,"message":"In quo soluta ducimus blanditiis.","sent_at":"2000-11-29T18:15:59Z"}]},"Event":{"type":"object","properties":{"action":{"type":"string","example":"added","enum":["added"]},"added_at":{"type":"string","description":"Time at which the message was added","example":"2011-12-22T17:54:19Z","format":"date-time"},"message":{"type":"string","description":"Message sent to the server","example":"Eaque suscipit necessitatibus facilis in."}},"example":{"action":"added","added_at":"1989-01-03T16:45:42Z","message":"Nulla qui dicta ipsa libero commodi."},"required":["message","action","added_at"]}},"securitySchemes":{"basic_header_Authorization":{"type":"http","description":"Secures the login endpoint.","scheme":"basic"},"jwt_header_Authorization":{"type":"http","description":"Secures endpoint by requiring a valid JWT token. Supports scopes \"stream:read\" and \"stream:write\".","scheme":"bearer"}}},"tags":[{"name":"chatter","description":"The chatter service implements a simple client and server chat."}]}